<ion-content class="ion-padding">
  <div class="home-wrapper">
    <div class="brand-header">
      <h2 class="brand-title">Elegir Categoria</h2>
      <a class="brand-viewall">Ver Todo</a>
    </div>

    <div class="brand-list">
      <button class="brand-button" (click)="verCategoria('Electrónica')">
        <img src="assets/images/adidas.png" class="brand-logo" />
        Electrónica
      </button>
      <button class="brand-button" (click)="verCategoria('Herramientas')">
        <img src="assets/images/nike.png" class="brand-logo" />
        Herramientas
      </button>
      <button class="brand-button" (click)="verCategoria('Ropa')">
        <img src="assets/images/fila.png" class="brand-logo" />
        Ropa
      </button>
    </div>

    <div class="product-grid">
      <div
        *ngFor="let producto of productsFiltrados"
        class="product-card"
        (click)="verDetalleProducto(producto)"
      >
        <div class="image-wrapper">
          <img
            [src]="producto.imagen_url || 'assets/images/no-image.png'"
            [alt]="producto.nombre"
            class="product-image"
            (error)="onImageError($event)"
          />
          <ion-icon
            name="heart-outline"
            class="favorite-icon"
            (click)="toggleFavorite(producto, $event)"
          ></ion-icon>
        </div>

        <div class="product-info">
          <h3 class="product-name">{{ producto.nombre }}</h3>
          <p class="product-price">{{ getPrecioFormateado(producto.precio) }}</p>
          <span
            class="availability"
            [ngClass]="{
              'disponible': producto.cantidad_disponible > 0,
              'agotado': producto.cantidad_disponible <= 0
            }"
          >
            {{ producto.cantidad_disponible > 0 ? 'Disponible' : 'Agotado' }}
          </span>
        </div>
      </div>
    </div>
  </div>
</ion-content>
